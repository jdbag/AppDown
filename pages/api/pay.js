export default async function handler(req,res){if(req.method==="POST"){const{paymentId}=req.body;try{const r=await fetch(`https://api.minepi.com/v2/payments/${paymentId}/approve`,{method:"POST",headers:{"Authorization":`Key ${process.env.PI_API_KEY}`,"Content-Type":"application/json"}});const d=await r.json();res.status(200).json({message:"Payment approved",piResponse:d});}catch(e){res.status(500).json({error:"Failed to approve payment"});} }else{res.status(405).json({error:"Method not allowed"});} }
