const pool=require('../storage/pool');module.exports={createPayment:async(userId,amount)=>{const conn=await pool.getConnection();await conn.query('INSERT INTO payments (user_id,amount,status) VALUES (?,?,"created")',[userId,amount]);conn.release();},approvePayment:async(id)=>{const conn=await pool.getConnection();await conn.query('UPDATE payments SET status="approved" WHERE id=?',[id]);conn.release();},completePayment:async(id)=>{const conn=await pool.getConnection();await conn.query('UPDATE payments SET status="completed" WHERE id=?',[id]);conn.release();},listPayments:async()=>{const conn=await pool.getConnection();const rows=await conn.query('SELECT * FROM payments');conn.release();return rows;}};
